<script type="text/javascript">
    function updateCustomAttribute(productId, value) {
        new Ajax.Request('<?php echo $this->getUrl('*/*/updateCustomAttribute'); ?>', {
            method: 'post',
            parameters: { id: productId, value: value },
            onSuccess: function(transport) {
                var response = transport.responseText.evalJSON();
                if (response.success) {
                    alert('Custom attribute updated successfully!');
                } else {
                    alert('Failed to update custom attribute');
                }
            },
            onFailure: function() {
                alert('Error while updating custom attribute');
            }
        });
    }
</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js"></script>
<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/smoothness/jquery-ui.css">

<script type="text/javascript">
    jQuery(document).ready(function($) {
        $('.product-name').click(function() {
            var productId = $(this).data('product-id');
            $.ajax({
                url: '<?php echo $this->getUrl('*/*/getProductDetails'); ?>',
                method: 'post',
                data: { id: productId },
                success: function(response) {
                    var product = $.parseJSON(response);
                    var modalHtml = '<div id="productModal" title="Product Details">' +
                                    '<p>Name: ' + product.name + '</p>' +
                                    '<p>Custom Attribute: ' + product.custom_attribute + '</p>' +
                                    '</div>';
                    $('body').append(modalHtml);
                    $('#productModal').dialog({
                        modal: true,
                        buttons: {
                            Ok: function() {
                                $(this).dialog('close');
                                $('#productModal').remove();
                            }
                        }
                    });
                }
            });
        });
    });
</script>

